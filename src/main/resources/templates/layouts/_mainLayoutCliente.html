<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bazar B.E.G.</title>

  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link
          rel="stylesheet"
          as="style"
          onload="this.rel='stylesheet'"
          href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
  />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>
<body>
<div class="relative flex size-full min-h-screen flex-col bg-[#f9f8fc] group/design-root overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
  <div class="layout-container flex h-full grow flex-col">

    <header class="flex bg-purple-200 text-purple-900 items-center justify-between whitespace-nowrap border-b border-solid border-b-[#ebe7f3] px-10 py-3">
      <div class="flex items-center gap-8">
        <a class="text-[#120e1b] text-lg font-bold leading-tight tracking-[-0.015em]" th:href="@{/}">Bazar B.E.G.</a>
        <div class="flex items-center gap-9">
          <a th:href="@{/catalogo}" class="text-[#120e1b] text-sm font-medium leading-normal">CATEGORÍAS</a>
          <a th:href="@{/carrito}" class="text-[#120e1b] text-sm font-medium leading-normal">CARRITO DE COMPRAS</a>
          <a th:href="@{/pedidos-cliente/historial}" class="text-[#120e1b] text-sm font-medium leading-normal">HISTORIAL</a>
        </div>
      </div>
      <div class="flex flex-1 justify-end gap-8">
        <form id="searchForm" action="#" method="get" class="flex flex-col min-w-40 !h-10 max-w-64">
          <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
            <div
                    class="text-[#654d99] flex border-none bg-[#ebe7f3] items-center justify-center pl-4 rounded-l-lg border-r-0"
                    data-icon="MagnifyingGlass"
                    data-size="24px"
                    data-weight="regular"
            >
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                        d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"
                ></path>
              </svg>
            </div>
            <input id="searchInput" name="q" placeholder="Buscar..."
                   class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#120e1b] focus:outline-0 focus:ring-0 border-none bg-[#ebe7f3] focus:border-none h-full placeholder:text-[#654d99] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"
                   value=""
            />
          </div>
        </form>

        <div class="flex gap-2">
          <button
                  class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#ebe7f3] text-[#120e1b] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5"
          >
            <div class="text-[#120e1b]" data-icon="Heart" data-size="20px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                <path
                        d="M178,32c-20.65,0-38.73,8.88-50,23.89C116.73,40.88,98.65,32,78,32A62.07,62.07,0,0,0,16,94c0,70,103.79,126.66,108.21,129a8,8,0,0,0,7.58,0C136.21,220.66,240,164,240,94A62.07,62.07,0,0,0,178,32ZM128,206.8C109.74,196.16,32,147.69,32,94A46.06,46.06,0,0,1,78,48c19.45,0,35.78,10.36,42.6,27a8,8,0,0,0,14.8,0c6.82-16.67,23.15-27,42.6-27a46.06,46.06,0,0,1,46,46C224,147.61,146.24,196.15,128,206.8Z"
                ></path>
              </svg>
            </div>
          </button>
          <a th:href="@{/carrito}"
             class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#ebe7f3] text-[#120e1b] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5"
          >
            <div class="text-[#120e1b]" data-icon="ShoppingBag" data-size="20px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                <path
                        d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,160H40V56H216V200ZM176,88a48,48,0,0,1-96,0,8,8,0,0,1,16,0,32,32,0,0,0,64,0,8,8,0,0,1,16,0Z"
                ></path>
              </svg>
            </div>
          </a>
        </div>
        <div th:if="${usuario}">
          <a th:href="@{/perfil}" class="block">
            <img th:src="@{/perfil/imagen/{id}(id=${usuario.id})}"
                 alt="Foto de perfil"
                 class="w-10 h-10 rounded-full object-cover border-2 border-transparent hover:border-purple-500 transition-colors">
          </a>
        </div>
        <div th:unless="${usuario}">
          <a th:href="@{/login}" class="text-[#120e1b] text-sm font-medium leading-normal">Iniciar Sesión</a>
        </div>
      </div>
    </header>

    <main class="flex flex-1 flex-col">
      <div layout:fragment="content"></div>
    </main>

    <footer class="flex justify-center">
      <div class="flex max-w-[960px] flex-1 flex-col">
        <footer class="flex flex-col gap-6 px-5 py-10 text-center @container">
          <div class="flex flex-wrap items-center justify-center gap-6 @[480px]:flex-row @[480px]:justify-around">
            <a class="text-[#654d99] text-base font-normal leading-normal min-w-40" href="#">Acerca de Nosotros</a>
            <a class="text-[#654d99] text-base font-normal leading-normal min-w-40" href="#">Contáctanos</a>
          </div>
          <p class="text-[#654d99] text-base font-normal leading-normal">@2025 BazarBEG. Todos los derechos reservados.</p>
        </footer>
      </div>
    </footer>

  </div>
</div>

<th:block layout:fragment="scripts"></th:block>
</body>
</html>